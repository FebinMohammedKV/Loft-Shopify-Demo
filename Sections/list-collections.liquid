{{ 'list-collection.css' | asset_url | stylesheet_tag }}

{% style %}
  .head{
    font-size: {{ section.settings.head-fontsize }}px;
    font-weight: {{ section.settings.head-fontweight }};
    color: {{ section.settings.color }};
  }
  .collection-title{
    font-size: {{ section.settings.title-fontsize }}px;
  }
{% endstyle %}


{%- paginate collections by section.settings.collections_per_page -%}
{% comment %} {%- paginate collections by 12 -%} {% endcomment %}
  <div class="container-fluid text-center collection-list">
    <div class="head align-{{ section.settings['head-alignment'] }}">{{ section.settings.heading }}</div>
    {% assign collection_index = 0 %}
    {% for collection in collections %}
      {% assign collection_index = collection_index | plus: 1 %}
      {% case collection_index %}
        {% when 1 %}
          <div class="row">
            <div class="col-6">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
        {% when 2 %}
            <div class="col-6">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
          </div>
        {% when 3 %}
          <div class="row">
            <div class="col-4">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
        {% when 4 %}
            <div class="col-4">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
        {% when 5 %}
            <div class="col-4">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
          </div>
        {% when 6 %}
          <div class="row">
            <div class="col-12">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
          </div>
        {% when 7 %}
          <div class="row">
            <div class="col-6">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
        {% when 8 %}
            <div class="col-6">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
          </div>
        {% when 9 %}
          <div class="row">
            <div class="col-4">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
        {% when 10 %}
            <div class="col-4">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
        {% when 11 %}
            <div class="col-4">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
          </div>
        {% when 12 %}
          <div class="row">
            <div class="col-12">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
          </div>
        {% when 13 %}
          <div class="row">
            <div class="col-6">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
        {% when 14 %}
            <div class="col-6">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
          </div>
        {% when 15 %}
          <div class="row">
            <div class="col-6">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
        {% when 16 %}
            <div class="col-6">
              <a href="{{ collection.url }}" class="collection-item">
                <div class="collection-image-wrapper">
                  <img class="collection-image" src="{{ collection.image.src | img_url: 'master' }}" alt="{{ collection.title }}">
                  <span class="collection-title align-{{ section.settings['title-alignment'] }}">{{ collection.title }}</span>
                </div>
              </a>
            </div>
          </div>
      {% endcase %}
    {% endfor %}
  </div>

  <section class="paging">
  <div class="left {% unless paginate.previous %}disabled{% endunless %}">
      {% if paginate.previous %}
          <a href="{{ paginate.previous.url }}"><i class="fa fa-chevron-left"></i> Previous</a>
      {% else %}
          <span><i class="fa fa-chevron-left"></i> Previous</span>
      {% endif %}
  </div>
  <div class="page-links">
      {% assign current_page = paginate.current_page %}
      {% assign total_pages = paginate.pages | size %}
      {% assign prev_threshold = current_page | minus: 3 %}
      {% assign next_threshold = current_page | plus: 2 %}
      
      {% if current_page > 3 %}
          <a href="{{ paginate.pages.first.url }}">1</a>
          {% if current_page > 4 %}
              <span>...</span>
          {% endif %}
      {% endif %}
      
      {% for part in paginate.parts %}
          {% if part.is_link %}
              <a href="{{ part.url }}">{{ part.title }}</a>
          {% else %}
              <p class="current">{{ part.title }}</p>
          {% endif %}
      {% endfor %}
      
      {% if next_threshold < total_pages %}
          {% if next_threshold < total_pages %}
              <span>...</span>
          {% endif %}
          <a href="{{ paginate.pages.last.url }}">{{ total_pages }}</a>
      {% endif %}
  </div>
  <div class="right {% unless paginate.next %}disabled{% endunless %}">
      {% if paginate.next %}
          <a href="{{ paginate.next.url }}">Next <i class="fa fa-chevron-right"></i></a>
      {% else %}
          <span>Next <i class="fa fa-chevron-right"></i></span>
      {% endif %}
  </div>
</section>



{% endpaginate %}



{% schema %}
{
  "name": "List Collection",
  "settings": [
    {
      "type": "number",
      "id": "collections_per_page",
      "label": "Collections per page",
      "default": 6
      
    },
    {
      "type": "header",
      "content": "Heading"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "All Collections"
    },
    {
      "type": "range",
      "id": "head-fontsize",
      "label": "Heading Font Size",
      "default": 20,
      "step": 1,
      "min": 10,
      "max": 50
    },
    {
      "type": "select",
      "id": "head-fontweight",
      "label": "Heading Font Weight",
      "options": [
        {
          "label": "Normal",
          "value": "400"
        },
        {
          "label": "Bold",
          "value": "700"
        },
        {
          "label": "Bolder",
          "value": "900"
        }
      ],
      "default": "700"
    },
    {
      "type": "select",
      "id": "head-alignment",
      "label": "Heading Alignment",
      "options": [
        {
          "label": "Left",
          "value": "left"
        },
        {
          "label": "Center",
          "value": "center"
        },
        {
          "label": "Right",
          "value": "right"
        }
      ],
      "default": "center"
    },
    {
      "type": "color",
      "id": "color",
      "label": "Heading Color"
    },
    {
      "type": "header",
      "content": "Collection Title"
    },
    {
      "type": "range",
      "id": "title-fontsize",
      "label": "Title Font Size (px)",
      "default": 16,
      "step": 1,
      "min": 10,
      "max": 50
    },
    {
      "type": "select",
      "id": "title-alignment",
      "label": "Collection Title Alignment",
      "options": [
        {
          "label": "Top",
          "value": "top"
        },
        {
          "label": "Middle",
          "value": "middle"
        },
        {
          "label": "Bottom",
          "value": "bottom"
        },
        {
          "label": "Top Left",
          "value": "top-left"
        },
        {
          "label": "Top Right",
          "value": "top-right"
        },
        {
          "label": "Bottom Left",
          "value": "bottom-left"
        },
        {
          "label": "Bottom Right",
          "value": "bottom-right"
        }
      ],
      "default": "bottom"
    }
  ],
  "presets": [
    {
      "name": "List Collection",
      "category": "Custom"
    }
  ]
}
{% endschema %}


